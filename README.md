# Online Retail & E-Commerce Dataset

## Project Overview

**Project Title**: Online Retail & E-Commerce Dataset Sales analysis 
**Level**: Beginner  
**Database**: `PROJECTS`

This project is designed to demonstrate SQL skills and techniques typically used by data analysts to explore, clean, and analyze retail sales data. The project involves setting up a retail sales database, performing exploratory data analysis (EDA), and answering specific business questions through SQL queries.

## Objectives

1. **Set up a PROJECTS database**: Create and populate a retail sales database with the provided sales data.
2. **Data Cleaning**: Identify and remove any records with missing or null values.
3. **Exploratory Data Analysis (EDA)**: Perform basic exploratory data analysis to understand the dataset.
4. **Business Analysis**: Use SQL to answer specific business questions and derive insights from the sales data.

## Project Structure

### Database Setup

- **Database Creation**: The project starts by creating a database named `PROJECTS`.
- **Table Creation**: A table named `Retail` is created to store the sales data. The table structure includes columns for customer_id, order_date,	product_id, category_id,	category_name,	product_name,	quantity,	price,	payment_method,	city,	review_score,	gender,	age.

```sql
CREATE DATABASE PROJECTS;
USE PROJECTS;

CREATE TABLE RETAIL(
CUSTOMER_ID INT,
ORDER_DATE DATE,
PRODUCT_ID INT,
CATEGORY_ID INT,
CATEGORY_NAME VARCHAR(30),
PRODUCT_NAME VARCHAR(30),
QUANTITY INT,
PRICE FLOAT,
PAYMENT_METHOD VARCHAR(30),
CITY VARCHAR(30),
REVIEW_SCORE INT,
GENDER VARCHAR(30),
AGE INT);
```

### Data Exploration & Cleaning

- **Record Count**: Determine the total number of records in the dataset.
- **Customer Count**: Find out how many unique customers are in the dataset.
- **Category Count**: Identify all unique product categories in the dataset.
- **Null Value Check**: Check for any null values in the dataset and delete records with missing data.
- 
### IDENTIFYING NULL VALUES
```sql
SELECT * FROM RETAIL WHERE CUSTOMER_ID IS NULL
OR ORDER_DATE IS NULL 
OR PRODUCT_ID IS NULL
OR CATEGORY_ID IS NULL
OR CATEGORY_NAME IS NULL
OR PRODUCT_NAME IS NULL
OR QUANTITY IS NULL
OR PRICE IS NULL
OR PAYMENT_METHOD IS NULL
OR CITY IS NULL
OR REVIEW_SCORE IS NULL
OR GENDER IS NULL
OR AGE IS NULL;
```
### NULL HANDLING
### DATA STORED AS STRING INSTEAD OF NULL, TO CHANGE AS NULL
```sql
SELECT * FROM RETAIL WHERE GENDER = "";
SET SQL_SAFE_UPDATES = 0;
UPDATE RETAIL SET GENDER = NULL WHERE GENDER = "";
SELECT * FROM RETAIL WHERE GENDER IS NULL;
UPDATE RETAIL SET GENDER  = "OTHERS" WHERE GENDER IS NULL;

UPDATE RETAIL SET REVIEW_SCORE  = "NOT GIVEN" WHERE REVIEW_SCORE = "";
SELECT * FROM RETAIL WHERE GENDER IS NULL;
```
### INSERTING NEW RECORD
```sql
INSERT INTO RETAIL VALUES(11111,2026-02-22,	222,10,	"Electronics",	"Smartphone",5,84.89,"Credit Card",	"Chennai",5,"M",28);
```

###  Data Analysis & Findings

The following SQL queries were developed to answer specific business questions:

1. **FIND THE TOTAL NUMBER OF RECORDS IN THE DATASET**:
```sql
SELECT COUNT(*) FROM RETAIL;
```

2. **RETRIEVE ALL RECORDS PLACED IN 2024**:
```sql
SELECT * FROM RETAIL WHERE YEAR(ORDER_DATE) = "2024";
```

3. **LIST ALL DISTINCT CITIES WHERE ORDERS WERE PLACED**:
```sql
SELECT DISTINCT CITY FROM RETAIL;
```

4. **SHOW ALL ORDERS WHERE THE PAYMENT METHOD IS CREDIT CARD**:
```sql
SELECT * FROM RETAIL WHERE PAYMENT_METHOD = "CREDIT CARD";
```

5. **FIND ALL CUSTOMERS OLDER THAN 50 YEARS**:
```sql
SELECT * FROM RETAIL WHERE AGE >50;
```

6. **CALCULATE THE TOTAL REVENUE FOR ALL RECORDS**:
```sql
SELECT ROUND(SUM(QUANTITY * PRICE),2) AS TOTAL_REVENUE FROM RETAIL;
```

7. **FIND THE TOTAL REVENUE GENERATED BY EACH CATEGORY_NAME**:
```sql
SELECT CATEGORY_NAME, 
	ROUND(SUM(QUANTITY * PRICE),1) AS REVENUE_CATEGORY
    FROM RETAIL GROUP BY CATEGORY_NAME;
```

8. **COUNT THE NUMBER OF ORDERS PER CITY AND MORETHAN ONE COUNT **:
```sql
SELECT CITY,COUNT(CITY) ORDERPER_CITY
 FROM RETAIL GROUP BY CITY HAVING ORDERPER_CITY>1;
```

9. **FIND THE AVERAGE REVIEW_SCORE FOR EACH PRODUCT_NAME**:
```sql
SELECT PRODUCT_NAME, ROUND(AVG(REVIEW_SCORE),2) AS SCORE
FROM RETAIL GROUP BY PRODUCT_NAME;
```

10. **CALCULATE THE TOTAL QUANTITY SOLD FOR EACH PRODUCT**:
```sql
SELECT PRODUCT_NAME, SUM(QUANTITY) AS TOTAL_QUANTITY_PRODUCT
FROM RETAIL GROUP BY PRODUCT_NAME;
```
11. **RETRIEVE ORDERS WHERE THE REVIEW_SCORE IS LESS THAN 3**:
```sql
SELECT * FROM RETAIL WHERE REVIEW_SCORE <3.0;
```
12. **FIND ALL ORDERS WHERE CUSTOMERS ARE FEMALE AND AGE > 40**:
```sql
SELECT * FROM RETAIL 
WHERE GENDER = "F" AND AGE > 40;
```
13. **SHOW PRODUCTS THAT WERE SOLD IN QUANTITIES GREATER THAN 3**:
```sql
SELECT PRODUCT_NAME,QUANTITY FROM RETAIL WHERE QUANTITY > 3;
```
14. **FIND ORDERS FROM CITIES STARTING WITH THE LETTER 'N'**:
```sql
SELECT * FROM RETAIL WHERE CITY REGEXP "^N";
```
15. **RETRIEVE ORDERS PLACED BETWEEN JUNE 1, 2024 AND DECEMBER 31, 2024**:
```sql
SELECT * FROM RETAIL WHERE
ORDER_DATE BETWEEN "2024-06-01" AND "2024-12-31";
```
16. **FIND THE TOP 3 HIGHEST REVENUE-GENERATING PRODUCTS**:
```sql
SELECT PRODUCT_NAME, ROUND(SUM(QUANTITY * PRICE),2) AS HIGH_REV_PROD
FROM RETAIL GROUP BY PRODUCT_NAME 
ORDER BY HIGH_REV_PROD LIMIT 3;
```
17. **CALCULATE TOTAL REVENUE BY GENDER**:
```sql
SELECT GENDER, ROUND(SUM(QUANTITY * PRICE),2) AS HREV_GEN
FROM RETAIL GROUP BY GENDER 
ORDER BY GENDER;
```
18. **FIND THE MOST FREQUENTLY USED PAYMENT_METHOD**:
```sql
SELECT PAYMENT_METHOD, COUNT(PAYMENT_METHOD) AS FREQUENT_METHOD
FROM RETAIL GROUP BY PAYMENT_METHOD
ORDER BY FREQUENT_METHOD DESC LIMIT 1;
```
19. **IDENTIFY THE CITY WITH THE HIGHEST TOTAL SALES REVENUE**:
```sql
SELECT CITY, 
ROUND(SUM(QUANTITY * PRICE),2) AS HIGHEST_CITY_SALES
FROM RETAIL GROUP BY CITY
ORDER BY HIGHEST_CITY_SALES DESC LIMIT 1;
```
20. **CALCULATE THE AVERAGE AGE OF CUSTOMERS PER CATEGORY**:
```sql
SELECT CATEGORY_NAME, AVG(AGE) AS AVERAGE_AGE
FROM RETAIL GROUP BY CATEGORY_NAME;

```
21. **RANK PRODUCTS BY TOTAL REVENUE WITHIN EACH CATEGORY**:
```sql
SELECT CATEGORY_NAME, PRODUCT_NAME,
    ROUND(SUM(QUANTITY * PRICE), 2) AS TOTAL_REVENUE,
    RANK() OVER (PARTITION BY CATEGORY_NAME ORDER BY SUM(QUANTITY * PRICE) DESC) 
    AS REVENUE_RANK FROM RETAIL 
    GROUP BY CATEGORY_NAME, PRODUCT_NAME;
```
22. **FIND CUSTOMERS WHO HAVE PLACED MORE THAN ONE ORDER**:
```sql
SELECT COUNT(DISTINCT CUSTOMER_ID) FROM RETAIL;
```
23. **CALCULATE MONTH-WISE REVENUE FOR 2024**:
```sql
SELECT MONTH(ORDER_DATE),
ROUND(SUM(QUANTITY * PRICE)) AS MONTH_WISE_REVENUE
FROM  RETAIL WHERE YEAR(ORDER_DATE) = "2024"
 GROUP BY MONTH(ORDER_DATE)
 ORDER BY MONTH(ORDER_DATE);
```
24. **FIND THE PERCENTAGE CONTRIBUTION OF EACH CATEGORY TO TOTAL REVENUE**:
```sql
SELECT 
    CATEGORY_NAME,
    ROUND(SUM(QUANTITY * PRICE), 2) AS TOTAL_REVENUE,
    ROUND((SUM(QUANTITY * PRICE) / 
        (SELECT SUM(QUANTITY * PRICE) FROM RETAIL)) * 100, 
    2) AS PERCENTAGE_CONTRIBUTION
FROM RETAIL
GROUP BY CATEGORY_NAME
ORDER BY PERCENTAGE_CONTRIBUTION DESC;
```

## Findings

- **Customer Demographics**: The dataset includes customers from various age groups, with sales distributed across different categories such as electronics, fashion home & living and Beauty.
- **High-Value Transactions**: Several transactions had a total sale amount greater than 10000, indicating premium purchases.
- **Sales Trends**: Monthly analysis shows variations in sales, helping identify peak seasons.
- **Customer Insights**: The analysis identifies the top-spending customers and the most popular product_name categories.

## Conclusion

This project serves as a comprehensive introduction to SQL for data analysts, covering database setup, data cleaning, exploratory data analysis, and business-driven SQL queries. The findings from this project can help drive business decisions by understanding sales patterns, customer behavior, and product performance.

